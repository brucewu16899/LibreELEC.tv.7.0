From b6e255b85d8b95c182182ba7f422b57d4ddfd4ac Mon Sep 17 00:00:00 2001
From: Jamie Coldhill <wrxtasy@amnet.net.au>
Date: Sun, 28 Aug 2016 23:01:37 +0800
Subject: [PATCH] Custom dtb

---
 arm64/boot/dts/amlogic/gxbb_p200.dts | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

diff --git a/arch/arm64/boot/dts/amlogic/gxbb_p200.dts b/arch/arm64/boot/dts/amlogic/gxbb_p200.dts
index 803045e..98a760e 100644
--- a/arch/arm64/boot/dts/amlogic/gxbb_p200.dts
+++ b/arch/arm64/boot/dts/amlogic/gxbb_p200.dts
@@ -50,12 +50,12 @@
 		};
 		pstore:aml_pstore {
 			compatible = "amlogic, pstore";
-			reg = <0x0 0x20000000 0x0 0x100000>;
+			reg = <0x0 0x07300000 0x0 0x100000>;
 			no-map;
 		};
 		fb_reserved:linux,meson-fb {
 			compatible = "amlogic, fb-memory";
-			size = <0x0 0x2000000>;
+			size = <0x0 0x4480000>;
 			no-map;
 		};
 
@@ -138,7 +138,7 @@
 		interrupts = <0 3 1
 			0 89 1>;
 		interrupt-names = "viu-vsync", "rdma";
-		mem_size = <0x01800000 0x00800000>; /* fb0/fb1 memory size */
+		mem_size = <0x04380000 0x00100000>; /* fb0/fb1 memory size */
 		vmode = <3>; /** 0:VMODE_720P 1:VMODE_LCD 2:VMODE_LVDS_1080P 3:VMODE_1080P */
 		scale_mode = <1>; /** 0:VPU free scale 1:OSD free scale 2:OSD super scale */
 		display_size_default = <1920 1080 1920 3240 32>; //1920*1080*4*3 = 0x17BB000
@@ -221,6 +221,7 @@
 		compatible = "amlogic, amvideocap";
 		dev_name = "amvideocap.0";
 		status = "okay";
+		max_size = <8>;//8M
 	};
 
 	ion_dev {
@@ -249,7 +250,7 @@
 		   compatible = "amlogic, picdec";
 		   memory-region = <&picdec_cma_reserved>;
 		   dev_name = "picdec";
-		   status = "okay";
+		   status = "disabled";
 	};
 	ppmgr {
 		compatible = "amlogic, ppmgr";//to match of_device_id's compatible member
-- 
1.9.1

